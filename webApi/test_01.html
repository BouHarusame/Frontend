<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
    <style class="textarea" style="display: block; -webkit-user-modify: read-write-plaintext-only;">
        html {
          background-color: #fff;
        }
        .edit:focus {
          outline: 1px solid #000
        }
      </style>
  <div id="nav" style="background: #FFF">
    <ul class="nav">
      <li>
        <p data-name="webapi" data-value="dataset">webapi dataset</p>
      </li>
      <li>
        <div class="hide" hidden>è¿™ä¸ªå†…å®¹è¢«éšè—äº†</div>
      </li>
      <li>
        <div class="edit" contenteditable onblur="handleBlur()">è¿™æ˜¯ä¸€ä¸ªå¯ä»¥ç¼–è¾‘çš„æ¨¡å—</div>
      </li>
      <li><textarea spellcheck="true"></textarea></li>
      <li><div onClick="downloadImage('https://user-gold-cdn.xitu.io/2019/8/23/16cbebe6a2ee3427?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1', 'avatar')">ä¸‹è½½</a></li>
    </ul>
  </div>

  <script>
    // const nav = document.querySelector('#nav') //è·å–æ–‡æ¡£ä¸­id="nav"çš„å…ƒç´ 
    // const navClass = document.querySelector('.nav') //è·å–æ–‡æ¡£ä¸­class="nav"çš„å…ƒç´ 
    // const ele = document.querySelector('#nav li:first-child') //è·å–æ–‡æ¡£ä¸­id="nav"ä¸‹é¢çš„ç¬¬ä¸€ä¸ªliå…ƒç´ 
    // console.log(nav, navClass, ele)

    // const list = document.querySelectorAll('li')
    // console.log(list)

    // const parent = ele.closest('#nav')
    // console.log(parent)

    // const res = document.querySelector('p').dataset
    // console.log(res)

    // let str = '?name=èœ˜è››ä¾ &age=16'
    // const parseUrl = new URLSearchParams(str).get('name')
    // console.log(parseUrl)

    // document.querySelector('.hide').hidden = false
    // setTimeout(() => {
    //   document.querySelector('.hide').hidden = true
    // }, 3000 )
    // let hidden = document.querySelector('.hide').hidden = false
    // console.log(hidden)

    // function handleBlur() {
    //   console.log(11111)
    //   console.log(document.querySelector('.edit').innerText)
    // }

    // const elem = document.querySelector('.edit').getBoundingClientRect()
    // console.log(elem)

    // const contain = document.querySelector('.nav li:first-child').contains(document.querySelector('p'))

    // const downloadImage = (url, name) => {
    //   // å®ä¾‹åŒ–ç”»å¸ƒ
    //   let canvas = document.createElement("canvas");
    //   let context = canvas.getContext("2d");

    //   // å®ä¾‹åŒ–ä¸€ä¸ªå›¾ç‰‡å¯¹è±¡
    //   let image = new Image();
    //   image.crossOrigin = "Anonymous";
    //   image.src = url;

    //   // å½“å›¾ç‰‡åŠ è½½å®Œæ¯•
    //   image.onload = () => {
    //     // å°†å›¾ç‰‡ç”»åœ¨ç”»å¸ƒä¸Š
    //     canvas.height = image.height;
    //     canvas.width = image.width;
    //     context.drawImage(image, 0, 0);

    //     // å°†ç”»å¸ƒçš„å†…å®¹è½¬æ¢æˆbase64åœ°å€
    //     let dataURL = canvas.toDataURL("image/png");

    //     // åˆ›å»ºaæ ‡ç­¾æ¨¡æ‹Ÿç‚¹å‡»è¿›è¡Œä¸‹è½½
    //     let a = document.createElement("a");
    //     a.hidden = true;
    //     a.href = dataURL;
    //     a.download = name;

    //     document.body.appendChild(a);
    //     a.click();
    //   }
    // }
    // downloadImage('https://user-gold-cdn.xitu.io/2019/8/23/16cbebe6a2ee3427?imageView2/1/w/100/h/100/q/85/format/webp/interlace/1', 'avatar')

    // window.addEventListener("follow", event => {
    //   console.log(event.detail); // è¾“å‡º {name: "å‰ç«¯å®‡å®™æƒ…æŠ¥å±€"}
    // });
    // window.dispatchEvent(new CustomEvent("follow", {
    //   detail: {
    //     name: "å‰ç«¯å®‡å®™æƒ…æŠ¥å±€"
    //   }
    // }));

    // const notice = new Notification("å‰ç«¯å®‡å®™æƒ…æŠ¥å±€", {
    //   body: "è¿™20ä¸ªä¸å¸¸ç”¨çš„Web APIçœŸçš„æœ‰ç”¨å—?ï¼Œåˆ«é—®ï¼Œé—®å°±æ˜¯æœ‰ç”¨ğŸˆ¶",
    //   icon: "æˆ‘çš„æ˜é‡‘å¤´åƒ",
    //   data: {
    //     url: "https://www.baidu.com"
    //   }
    // });
    

    // let permission = Notification.permission;
    // Notification.requestPermission().then(res => {
    //   console.log(res)
    //   if (res === 'granted') {
    //     console.log('yes')
    //     var notification = new Notification("Hi there!");
        // const notice = new Notification("å‰ç«¯å®‡å®™æƒ…æŠ¥å±€", {
        //   body: "è¿™20ä¸ªä¸å¸¸ç”¨çš„Web APIçœŸçš„æœ‰ç”¨å—?ï¼Œåˆ«é—®ï¼Œé—®å°±æ˜¯æœ‰ç”¨ğŸˆ¶",
        //   icon: "æˆ‘çš„æ˜é‡‘å¤´åƒ",
        //   data: {
        //     url: "https://www.baidu.com"
        //   }
        // });
        // ç‚¹å‡»å›è°ƒ
        // notice.onclick = () => {
        //   window.open(notice.data.url); // å½“ç”¨æˆ·ç‚¹å‡»é€šçŸ¥æ—¶ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€ç™¾åº¦ç½‘ç«™
        // }
    //   }
    //   else if (res === 'denied') {
    //     console.log('no')
    //   } else {
    //     // å…¶ä»–çŠ¶æ€ï¼Œå¯ä»¥é‡æ–°å‘é€æˆæƒæç¤º
    //     Notification.requestPermission();
    //   }
    // })


    const launchFullScreen = (elem = document.documentElement) => {
      if(elem.requestFullScreen) {
        elem.requestFullScreen();
      } else if(elem.mozRequestFullScreen) {
        elem.mozRequestFullScreen();
      } else if(elem.webkitRequestFullScreen) {
        elem.webkitRequestFullScreen();
      }
    }
    const nav = document.querySelector('#nav')
    nav.addEventListener('click', function () {
      launchFullScreen(nav)
    })
    nav.addEventListener('dblclick', function () {
      console.log(11111)
      exitFullScreen()
    })
    /**
 * @method exitFullScreen å…³é—­å…¨å±
 */
const exitFullScreen = () => {
  if (document.exitFullscreen) {
    document.exitFullscreen();
  } else if (document.mozCancelFullScreen) {
    document.mozCancelFullScreen();
  } else if (document.webkitCancelFullScreen) {
    document.webkitCancelFullScreen();
  }
}
  </script>
</body>
</html>